<!-- Modal to show the detail of an associated task-->
<div class="modal fade" id="showdeptask" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close", id= 'btnCloseShowDepTaskModal'>
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="cnt-txt">
          <h4><%= dependency.title %></h4><br />
        </div>
        <div class="row">
          <div class="col-10 offset-1">
<!-- DESC -->   <div class="row">
              <div class ="col-4">
                <h7>description:</h7>
              </div>
              <div class ="col-8">
                <h7><%=dependency.description %></h7><br />
              </div>
            </div>
<!-- USER -->   <div class="row">
              <div class ="col-4">
                <% user = User.where(:id => dependency.user_id).first %>
                <h7>assigned to:</h7>
              </div>
              <div class ="col-8">
                <h7><%= user.email %></h7><br />
              </div>
            </div>

            <% if dependency.status != "NEW" %>
<!-- STRT -->   <div class="row">
                <div class ="col-4">
                  <h7>start date:</h7>
                </div>
                <div class ="col-8">
                  <h7><%= calculate_task_start_date(dependency.due_date,dependency.duration,true) %></h7><br />
                </div>
              </div>
<!-- DURA -->   <div class="row">
                <div class ="col-4">
                  <h7>task duration:</h7>
                </div>
                <div class ="col-8">
                  <h7> <%= dependency.duration %></h7><br />
                </div>
              </div>
            <% end %>

<!-- DURA -->   <div class="row">
              <div class ="col-4">
                <h7>due date:</h7>
              </div>
              <div class ="col-8">
                <h7><%= format_date_as_string_from(dependency.due_date) %></h7><br />
              </div>
            </div>
<!-- STAT -->   <div class="row">
              <div class ="col-4">
                <h7>task status:</h7>
              </div>
              <div class ="col-8">
                <h7><%= dependency.status %></h7><br />
              </div>
            </div>
          </div>
        </div>
        <br /><br />
        <div class="cnt-txt">
            <button type="button" class="btn btn-success" data-dismiss="modal" aria-label="Close", id= 'btnCloseShowDepTask'>back</button>
            <br />
        </div>
      </div>
    </div>
  </div>
</div>






<script type="text/javascript">
    
    $("#btnCloseShowDepTask").on('click', function() {

      // force dismiss the modal after user clicks accept
      bbtnCloseShowDepTaskModal = document.getElementById("btnCloseShowDepTaskModal");
      btnCloseShowDepTaskModal.click();
    });


  </script>